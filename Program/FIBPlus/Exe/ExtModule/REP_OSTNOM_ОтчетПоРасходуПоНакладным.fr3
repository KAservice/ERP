<?xml version="1.0" encoding="utf-8" standalone="no"?>
<TfrxReport Version="4.9.116" DotMatrixReport="false" IniFile="\Software\Fast Reports" PreviewOptions.Buttons="4095" PreviewOptions.Maximized="false" PreviewOptions.Modal="false" PreviewOptions.Zoom="1" PrintOptions.Printer="По умолчанию" PrintOptions.PrintOnSheet="0" ReportOptions.CreateDate="40449,5380494213" ReportOptions.Description.Text="" ReportOptions.LastChange="40451,484332037" ScriptLanguage="C++Script" ScriptText.Text="&#13;&#10;void MasterData2OnBeforePrint(TfrxComponent Sender)&#13;&#10;{&#13;&#10;       Ostatok.Active=false;&#13;&#10;       Ostatok.ParamByName(&#34;PARAM_IDPART&#34;).Value=Query.FieldByName(&#34;IDPARTPRNT&#34;).Value;                                                &#13;&#10;       Ostatok.Active=true;&#13;&#10;&#13;&#10;       Dv.Active=false;&#13;&#10;       Dv.ParamByName(&#34;PARAM_IDPART&#34;).Value=Query.FieldByName(&#34;IDPARTPRNT&#34;).Value;                                                &#13;&#10;       Dv.Active=true;&#13;&#10;&#13;&#10;&#13;&#10;       if (&#60;Query.&#34;PRICEPRNT&#34;&#62; != 0)&#13;&#10;               {&#13;&#10;               Set(&#34;Procent&#34;,(&#60;Query.&#34;RPRICE_DPRNT&#34;&#62;/&#60;Query.&#34;PRICEPRNT&#34;&#62; -1)*100);    &#13;&#10;               }&#13;&#10;       else&#13;&#10;               {&#13;&#10;               Set(&#34;Procent&#34;,0);  &#13;&#10;               }           &#13;&#10;         &#13;&#10;}&#13;&#10;&#13;&#10;void Page1OnBeforePrint(TfrxComponent Sender)&#13;&#10;{&#13;&#10;       //изменим текст запроса в зависимости от входных параметров&#13;&#10;       Query.Active=false;                                      &#13;&#10;       Query.SQL.Clear();&#13;&#10;       Query.SQL.Add(&#34; select &#34;);      &#13;&#10;       Query.SQL.Add(&#34;   sgrpnom.namegn,  &#34;);  &#13;&#10;       Query.SQL.Add(&#34;   snom.namenom,    &#34;);  &#13;&#10;       Query.SQL.Add(&#34;   spart.docpart,   &#34;);&#13;&#10;       Query.SQL.Add(&#34;   galldoc.numdoc,   &#34;);&#13;&#10;       Query.SQL.Add(&#34;   galldoc.posdoc,   &#34;);           &#13;&#10;       Query.SQL.Add(&#34;   dprnt.idpartprnt, &#34;);  &#13;&#10;       Query.SQL.Add(&#34;   dprnt.kolprnt * dprnt.kfprnt as kol,  &#34;);  &#13;&#10;       Query.SQL.Add(&#34;   sed.nameed,                           &#34;);  &#13;&#10;       Query.SQL.Add(&#34;   dprnt.priceprnt,                      &#34;);  &#13;&#10;       Query.SQL.Add(&#34;   dprnt.rprice_dprnt                    &#34;);  &#13;&#10;&#13;&#10;       Query.SQL.Add(&#34; from dprnt                                &#34;);  &#13;&#10;       Query.SQL.Add(&#34; left outer join dprn on dprnt.iddocprnt=dprn.iddocprn        &#34;);  &#13;&#10;       Query.SQL.Add(&#34; left outer join galldoc on dprnt.iddocprnt=galldoc.iddoc     &#34;);  &#13;&#10;       Query.SQL.Add(&#34; left outer join spart on dprnt.idpartprnt=spart.idpart       &#34;);  &#13;&#10;       Query.SQL.Add(&#34; left outer join snom on dprnt.idnomprnt=snom.idnom           &#34;);  &#13;&#10;       Query.SQL.Add(&#34; left outer join sed on snom.idbasednom=sed.ided              &#34;);  &#13;&#10;       Query.SQL.Add(&#34; left outer join sgrpnom on snom.idgrpnom=sgrpnom.idgn        &#34;);&#13;&#10;       Query.SQL.Add(&#34; where galldoc.posdoc between :PARAM_POSBEGIN and :PARAM_POSEND &#34;);&#13;&#10;      //ShowMessage(&#34; where galldoc.posdoc between '&#34;+DateTimeToStr(&#60;glPosBegin&#62;)+&#13;&#10;     //                          &#34;' and '&#34;+DateTimeToStr(&#60;glPosEnd&#62;)+&#34;' &#34;);                                       &#13;&#10;       if (Get(&#34;glIdFirm&#34;) &#62; 0)&#13;&#10;               {                 &#13;&#10;               Query.SQL.Add(&#34; and galldoc.idfirmdoc=&#34;+IntToStr(&#60;glIdFirm&#62;));  &#13;&#10;               }  &#13;&#10;&#13;&#10;       if (Get(&#34;glIdSklad&#34;) &#62; 0)&#13;&#10;               {                 &#13;&#10;               Query.SQL.Add(&#34; and galldoc.idskldoc=&#34;+IntToStr(&#60;glIdSklad&#62;));  &#13;&#10;               }           &#13;&#10;&#13;&#10;       if (Get(&#34;glIdGrpNom&#34;) &#62; 0)&#13;&#10;               {                 &#13;&#10;               Query.SQL.Add(&#34; and snom.idgrpnom=&#34;+IntToStr(&#60;glIdGrpNom&#62;));  &#13;&#10;               }&#13;&#10;&#13;&#10;       if (Get(&#34;glIdNom&#34;) &#62; 0)&#13;&#10;               {                 &#13;&#10;               Query.SQL.Add(&#34; and dprnt.idnomprnt=&#34;+IntToStr(&#60;glINom&#62;));  &#13;&#10;               }                                 &#13;&#10;&#13;&#10;       Query.SQL.Add(&#34; order by sgrpnom.namegn,  snom.namenom, galldoc.posdoc       &#34;);&#13;&#10;&#13;&#10;       Query.ParamByName(&#34;PARAM_POSBEGIN&#34;).Value=&#60;glPosBegin&#62;;&#13;&#10;       Query.ParamByName(&#34;PARAM_POSEND&#34;).Value=&#60;glPosEnd&#62;;&#13;&#10;                                                       &#13;&#10;       Query.Active=true;  &#13;&#10;    &#13;&#10;}&#13;&#10;&#13;&#10;{&#13;&#10;&#13;&#10;}" PropData="03546F7002480844617461736574730101062420446174615365743D2251756572792220446174615365744E616D653D225175657279220001062820446174615365743D224F737461746F6B2220446174615365744E616D653D224F737461746F6B220001061E20446174615365743D2244762220446174615365744E616D653D224476220000095661726961626C65730101141D000000204E616D653D2220D093D0BBD0BED0B1D0B0D0BBD18CD0BDD18BD0B52200010610204E616D653D22676C49644669726D2200010611204E616D653D22676C4964536B6C61642200010612204E616D653D22676C49644772704E6F6D220001060F204E616D653D22676C49644E6F6D2200010612204E616D653D22676C506F73426567696E2200010610204E616D653D22676C506F73456E64220001060F204E616D653D2250726F63656E74220000055374796C650100">
  <TfrxDataPage Name="Data" Height="1000" Left="0" Top="0" Width="1000">
    <TfrxFIBQuery Name="Query" UserName="Query" CloseDataSource="true" FieldAliases.Text="" BCDToCurrency="false" IgnoreDupParams="false" SQL.Text="select&#13;&#10;    sgrpnom.namegn,&#13;&#10;    snom.namenom,&#13;&#10;    spart.docpart,&#13;&#10;    galldoc.numdoc,&#13;&#10;    galldoc.posdoc,                                    &#13;&#10;    dprnt.idpartprnt,&#13;&#10;    dprnt.kolprnt * dprnt.kfprnt as kol,&#13;&#10;    sed.nameed,&#13;&#10;    dprnt.priceprnt,&#13;&#10;    dprnt.rprice_dprnt/*,&#13;&#10;    select rgostnom.kolostnom from rgostnom where rgostnom.idpartostnom=dprnt.idpartprnt    */&#13;&#10;from dprnt&#13;&#10;left outer join dprn on dprnt.iddocprnt=dprn.iddocprn&#13;&#10;left outer join galldoc on dprnt.iddocprnt=galldoc.iddoc&#13;&#10;left outer join spart on dprnt.idpartprnt=spart.idpart&#13;&#10;left outer join snom on dprnt.idnomprnt=snom.idnom&#13;&#10;left outer join sed on snom.idbasednom=sed.ided&#13;&#10;left outer join sgrpnom on snom.idgrpnom=sgrpnom.idgn&#13;&#10;where galldoc.posdoc between :PARAM_POSBEGIN and :PARAM_POSEND  &#13;&#10;order by sgrpnom.namegn,  snom.namenom, galldoc.posdoc  " PropData="05704C6566740384000470546F70026C0A506172616D65746572730101064E204E616D653D22504152414D5F504F53424547494E222044617461547970653D2266744461746554696D65222045787072657373696F6E3D22262336303B676C506F73426567696E262336323B220001064A204E616D653D22504152414D5F504F53454E44222044617461547970653D2266744461746554696D65222045787072657373696F6E3D22262336303B676C506F73456E64262336323B220000"/>
    <TfrxFIBQuery Name="Ostatok" UserName="Ostatok" CloseDataSource="true" FieldAliases.Text="" BCDToCurrency="false" IgnoreDupParams="false" SQL.Text="select rgostnom.kolostnom&#13;&#10;from rgostnom&#13;&#10;where rgostnom.idpartostnom=:PARAM_IDPART  " PropData="05704C6566740384000470546F7003B8000A506172616D657465727301010629204E616D653D22504152414D5F494450415254222044617461547970653D226674556E6B6E6F776E220000"/>
    <TfrxFIBQuery Name="Dv" UserName="Dv" CloseDataSource="true" FieldAliases.Text="" BCDToCurrency="false" IgnoreDupParams="false" SQL.Text="select sum(rgostnom_dv.kol_ostnomdv)&#13;&#10;from rgostnom_dv&#13;&#10;where rgostnom_dv.idpart_ostnomdv=:PARAM_IDPART&#13;&#10; and rgostnom_dv.tdv_ostnomdv=1&#13;&#10; and rgostnom_dv.posdoc_ostnomdv between :PARAM_POSBEGIN and :PARAM_POSEND" PropData="05704C6566740384000470546F700308010A506172616D657465727301010629204E616D653D22504152414D5F494450415254222044617461547970653D226674556E6B6E6F776E220001064D204E616D653D22504152414D5F504F53424547494E222044617461547970653D226674556E6B6E6F776E222045787072657373696F6E3D22262336303B676C506F73426567696E262336323B2200010649204E616D653D22504152414D5F504F53454E44222044617461547970653D226674556E6B6E6F776E222045787072657373696F6E3D22262336303B676C506F73456E64262336323B220000"/>
  </TfrxDataPage>
  <TfrxReportPage Name="Page1" PaperWidth="210" PaperHeight="297" PaperSize="9" LeftMargin="10" RightMargin="10" TopMargin="10" BottomMargin="10" ColumnWidth="0" ColumnPositions.Text="" HGuides.Text="" VGuides.Text="" OnBeforePrint="Page1OnBeforePrint">
    <TfrxGroupHeader Name="GroupHeader1" Height="18,89765" Left="0" Top="116" Width="718,1107" Condition="Query.&#34;NAMEGN&#34;">
      <TfrxMemoView Name="Memo7" Left="0" Top="0" Width="718,1107" Height="18,89765" ShowHint="false" Color="13421772" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" ParentFont="false" Text="[Query.&#34;NAMEGN&#34;]"/>
    </TfrxGroupHeader>
    <TfrxMasterData Name="MasterData2" Height="26,45671" Left="0" Top="156" Width="718,1107" OnBeforePrint="MasterData2OnBeforePrint" ColumnWidth="0" ColumnGap="0" DataSet="Query" DataSetName="Query" RowCount="0">
      <TfrxMemoView Name="Memo1" Left="37,7953" Top="0" Width="181,41744" Height="26,45671" ShowHint="false" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="false" WordBreak="true" Text="[Query.&#34;NAMENOM&#34;]"/>
      <TfrxMemoView Name="Memo2" Left="219,21274" Top="0" Width="117,16543" Height="26,45671" ShowHint="false" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="false" WordBreak="true" Text="Прих накл. №[ &#60;Query.&#34;NUMDOC&#34;&#62;] от [&#60;Query.&#34;POSDOC&#34;&#62;]"/>
      <TfrxMemoView Name="Memo3" Left="336,37817" Top="0" Width="49,13389" Height="26,45671" ShowHint="false" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haRight" ParentFont="false" VAlign="vaCenter" Text="[Query.&#34;KOL&#34;]"/>
      <TfrxMemoView Name="Memo4" Left="385,51206" Top="0" Width="49,13389" Height="26,45671" ShowHint="false" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="[Query.&#34;NAMEED&#34;]"/>
      <TfrxMemoView Name="Memo5" Left="434,64595" Top="0" Width="64,25201" Height="26,45671" ShowHint="false" DisplayFormat.FormatStr="%2.2f" DisplayFormat.Kind="fkNumeric" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haRight" ParentFont="false" VAlign="vaCenter" Text="[Query.&#34;PRICEPRNT&#34;]"/>
      <TfrxMemoView Name="Memo6" Left="498,89796" Top="0" Width="64,25201" Height="26,45671" ShowHint="false" DisplayFormat.FormatStr="%2.2f" DisplayFormat.Kind="fkNumeric" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haRight" ParentFont="false" VAlign="vaCenter" Text="[Query.&#34;RPRICE_DPRNT&#34;]"/>
      <TfrxMemoView Name="Memo15" Left="653,85869" Top="0" Width="64,25201" Height="26,45671" ShowHint="false" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haRight" ParentFont="false" VAlign="vaCenter" Text="[Ostatok.&#34;KOLOSTNOM&#34;]"/>
      <TfrxMemoView Name="Memo16" Left="604,7248" Top="0" Width="49,13389" Height="26,45671" ShowHint="false" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haRight" ParentFont="false" VAlign="vaCenter" Text="[Dv.&#34;SUM&#34;]"/>
      <TfrxMemoView Name="Memo20" Left="563,14997" Top="0" Width="41,57483" Height="26,45671" ShowHint="false" DisplayFormat.FormatStr="%2.2f" DisplayFormat.Kind="fkNumeric" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haRight" ParentFont="false" VAlign="vaCenter" Text="[Procent]"/>
      <TfrxMemoView Name="Memo22" Left="0" Top="0" Width="37,7953" Height="26,45671" ShowHint="false" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="[Line#]"/>
    </TfrxMasterData>
    <TfrxReportTitle Name="ReportTitle1" Height="26,45671" Left="0" Top="16" Width="718,1107">
      <TfrxMemoView Name="Memo8" Left="0" Top="0" Width="706,77211" Height="26,45671" ShowHint="false" Font.Charset="1" Font.Color="-16777208" Font.Height="-21" Font.Name="Arial" Font.Style="0" ParentFont="false" Text="Отчет по поступлениям номенклатуры с [glPosBegin] по [glPosEnd]"/>
    </TfrxReportTitle>
    <TfrxPageHeader Name="PageHeader1" Height="30,23624" Left="0" Top="64" Width="718,1107">
      <TfrxMemoView Name="Memo9" Left="37,7953" Top="0" Width="181,41744" Height="30,23624" ShowHint="false" Color="13296895" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="Номенклатура"/>
      <TfrxMemoView Name="Memo10" Left="219,21274" Top="0" Width="117,16543" Height="30,23624" ShowHint="false" Color="13296895" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="Документ поступления"/>
      <TfrxMemoView Name="Memo11" Left="336,37817" Top="0" Width="49,13389" Height="30,23624" ShowHint="false" Color="13296895" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="Кол-во"/>
      <TfrxMemoView Name="Memo12" Left="385,51206" Top="0" Width="49,13389" Height="30,23624" ShowHint="false" Color="13296895" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="Единица"/>
      <TfrxMemoView Name="Memo13" Left="434,64595" Top="0" Width="64,25201" Height="30,23624" ShowHint="false" Color="13296895" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="Закупочная цена из док."/>
      <TfrxMemoView Name="Memo14" Left="498,89796" Top="0" Width="64,25201" Height="30,23624" ShowHint="false" Color="13296895" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="Розничная цена из док."/>
      <TfrxMemoView Name="Memo17" Left="604,7248" Top="0" Width="49,13389" Height="30,23624" ShowHint="false" Color="13296895" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="Расход"/>
      <TfrxMemoView Name="Memo18" Left="653,85869" Top="0" Width="64,25201" Height="30,23624" ShowHint="false" Color="13296895" Font.Charset="1" Font.Color="-16777208" Font.Height="-11" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="Остаток на [Date]"/>
      <TfrxMemoView Name="Memo19" Left="563,14997" Top="0" Width="41,57483" Height="30,23624" ShowHint="false" Color="13296895" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="Наценка"/>
      <TfrxMemoView Name="Memo21" Left="0" Top="0" Width="37,7953" Height="30,23624" ShowHint="false" Color="13296895" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="false" VAlign="vaCenter" Text="№"/>
    </TfrxPageHeader>
  </TfrxReportPage>
</TfrxReport>
